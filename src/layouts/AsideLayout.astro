---
import BaseHead from "../components/BaseHead.astro";
import { getAllPosts } from "../utils/common";

import { Menus, SITE_TITLE, SITE_DESCRIPTION, Medias } from "../consts";

const allPosts = await getAllPosts();
---

<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <div class="flex flex-col lg:flex-row relative">
      <aside class="lg:w-40% mt24 pt12 text-center">
        <div class="flex flex-col items-center gap-6 sticky top-10">
          <img
            src="https://xujianxing.oss-cn-beijing.aliyuncs.com/IMG_0336.jpeg"
            class="rd-500 w140px h140px object-cover"
            width="140"
            height="140"
          />
          <h1 class="font-bold text-6 line-height-none">{SITE_TITLE}</h1>
          <div class="social flex gap-3">
            {
              Medias.map((m) => (
                <a href={m.link} target="_blank">
                  <img src={m.icon.src} width="26" height="26" title={m.tile} />
                </a>
              ))
            }
          </div>
          <div class="menu text-4 flex flex-row lg:flex-col gap-4 mt2">
            {Menus.map((m) => <a href={m.link}>{m.tile}</a>)}
          </div>
        </div>
      </aside>

      <main class="flex-1 my24 about mx6">
        <slot />
      </main>
    </div>
  </body>
</html>
